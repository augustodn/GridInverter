Version 4
SHEET 1 1004 680
WIRE -1584 80 -1872 80
WIRE -1376 80 -1584 80
WIRE -1872 128 -1872 80
WIRE -1584 128 -1584 80
WIRE -1376 128 -1376 80
WIRE -1376 144 -1376 128
WIRE -1632 208 -1664 208
WIRE -1296 208 -1328 208
WIRE -1088 240 -1120 240
WIRE -1024 240 -1088 240
WIRE -896 240 -944 240
WIRE -1872 256 -1872 208
WIRE -1584 256 -1584 224
WIRE -1376 256 -1376 224
WIRE -2608 272 -2640 272
WIRE -2592 272 -2608 272
WIRE -2736 288 -2752 288
WIRE -2720 288 -2736 288
WIRE -2368 288 -2368 240
WIRE -2096 288 -2096 240
WIRE -3008 304 -3008 272
WIRE -2880 304 -2880 272
WIRE -2640 304 -2640 272
WIRE -1584 304 -1584 256
WIRE -1376 304 -1376 256
WIRE -2752 320 -2752 288
WIRE -1584 320 -1584 304
WIRE -1088 320 -1088 304
WIRE -1088 320 -1120 320
WIRE -1024 320 -1088 320
WIRE -896 320 -944 320
WIRE -2880 384 -2880 368
WIRE -1632 384 -1680 384
WIRE -1296 384 -1328 384
WIRE -2368 400 -2368 368
WIRE -2096 400 -2096 368
WIRE -1472 400 -1584 400
WIRE -1376 400 -1472 400
WIRE -3008 416 -3008 384
WIRE -2880 416 -2880 384
WIRE -2752 416 -2752 400
WIRE -2640 416 -2640 384
WIRE -1472 448 -1472 400
FLAG -2880 416 0
FLAG -3008 416 0
FLAG -2880 272 sine
IOPIN -2880 272 Out
FLAG -3008 272 ramp
IOPIN -3008 272 Out
FLAG -2752 416 0
FLAG -2640 416 0
FLAG -2736 288 SPWMA
IOPIN -2736 288 Out
FLAG -1872 256 0
FLAG -1296 384 SPWMA
IOPIN -1296 384 In
FLAG -2608 272 SPWMB
IOPIN -2608 272 Out
FLAG -1680 384 SPWMB
IOPIN -1680 384 In
FLAG -1472 448 0
FLAG -2096 240 HSA
IOPIN -2096 240 Out
FLAG -2368 240 HSB
IOPIN -2368 240 Out
FLAG -2368 400 MSB
IOPIN -2368 400 Out
FLAG -2096 400 MSA
IOPIN -2096 400 Out
FLAG -1664 208 HSA
IOPIN -1664 208 In
FLAG -1296 208 HSB
IOPIN -1296 208 In
FLAG -1376 256 MSB
IOPIN -1376 256 In
FLAG -1584 256 MSA
IOPIN -1584 256 In
FLAG -1120 240 MSA
IOPIN -1120 240 In
FLAG -1120 320 MSB
IOPIN -1120 320 In
SYMBOL voltage -2880 288 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -390 58 Left 2
WINDOW 0 -85 17 Left 2
SYMATTR Value SINE(7.5 7.5 50)
SYMATTR InstName V5
SYMBOL voltage -3008 288 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -427 -6 Left 2
WINDOW 0 -64 18 Left 2
SYMATTR Value PULSE(0 15V 0 80u 80u 0 160u)
SYMATTR InstName V6
SYMBOL bv -2752 304 R0
WINDOW 3 -92 158 Left 2
SYMATTR InstName B1
SYMATTR Value V=if(V(sine) > V(ramp), 15,0)
SYMBOL bv -2640 288 R0
SYMATTR InstName B2
SYMATTR Value V=15-V(SPWMA)
SYMBOL nmos -1632 128 R0
SYMATTR InstName M1
SYMATTR Value IRFH5302
SYMBOL nmos -1328 128 M0
SYMATTR InstName M2
SYMATTR Value IRFH5302
SYMBOL nmos -1328 304 M0
SYMATTR InstName M3
SYMATTR Value IRFH5302
SYMBOL nmos -1632 304 R0
SYMATTR InstName M4
SYMATTR Value IRFH5302
SYMBOL voltage -1872 112 R0
WINDOW 0 43 48 Left 2
WINDOW 3 38 86 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 310
SYMBOL bv -2368 272 R0
WINDOW 3 45 61 Left 2
SYMATTR InstName B3
SYMATTR Value V=15-V(SPWMA)
SYMBOL bv -2096 272 R0
WINDOW 3 44 60 Left 2
SYMATTR InstName B4
SYMATTR Value V=if(V(sine) > V(ramp), 15,0)
SYMBOL res -912 224 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL ind -1040 256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 10m
SYMBOL ind -1040 336 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 10m
SYMBOL cap -1104 240 R0
SYMATTR InstName C1
SYMATTR Value 10µ
TEXT -3288 440 Left 2 !.tran 1 startup
